const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/slidev/shiki-BZisFU1a.js","assets/monaco/bundled-types-GyhiB4uL.js","assets/modules/file-saver-BzOOqXCn.js","assets/modules/vue-CY3OsIzI.js","assets/monaco/bundled-types-9vTKz99q.css","assets/modules/shiki-Bsyf5hhV.js","assets/modules/shiki-Bxv373Z5.css"])))=>i.map(i=>d[i]);
import{r as w,d as I,G as J,f as m,o as h,ad as q,z as F,U as H,P as U,aR as G,S as K,E as W,ag as Q,i as P,al as X,g as R,t as C,J as x,F as O,ai as L,b as Y,n as Z,O as ee,k as te,e as ne,w as re}from"./modules/vue-CY3OsIzI.js";import{q as oe,_ as V,n as ie,l as $}from"./monaco/bundled-types-GyhiB4uL.js";import{a as se,a4 as ae}from"./index-BQbRTvLq.js";import{u as ce}from"./slidev/context-D40ENLse.js";import{a as le}from"./modules/file-saver-BzOOqXCn.js";import{_ as ue}from"./slidev/IconButton.vue_vue_type_script_setup_true_lang-Bdxy_ZQ-.js";import"./modules/shiki-Bsyf5hhV.js";function fe(u,o){for(var r=0;r<o.length;r++){const f=o[r];if(typeof f!="string"&&!Array.isArray(f)){for(const c in f)if(c!=="default"&&!(c in u)){const i=Object.getOwnPropertyDescriptor(f,c);i&&Object.defineProperty(u,c,i.get?i:{enumerable:!0,get:()=>f[c]})}}}return Object.freeze(Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}))}var A={exports:{}},E={exports:{}},pe=E.exports,T;function de(){return T||(T=1,function(u){(function(o,r){u&&u.exports?u.exports=r(o):o.Levenshtein=r(o)})(pe,function(o){function r(n,s){var e,t;for(e=-1,t=n.length;++e<t;)s(n[e],e,n)}function f(n,s){var e;return e=Array(n.length),r(n,function(t,a,l){e[a]=s(t,a,l)}),e}function c(n,s,e){return r(n,function(t,a,l){e=s(t,a,l)}),e}function i(n,s){var e,t,a;return a=this._matrix=[],n==s?this.distance=0:n==""?this.distance=s.length:s==""?this.distance=n.length:(e=[0],r(n,function(l,p){p++,e[p]=p}),a[0]=e,r(s,function(l,p){t=[++p],r(n,function(v,d){d++,n.charAt(d-1)==s.charAt(p-1)?t[d]=e[d-1]:t[d]=Math.min(e[d]+1,t[d-1]+1,e[d-1]+1)}),e=t,a[a.length]=e}),this.distance=t[t.length-1])}return i.prototype.toString=i.prototype.inspect=function(s){var e,t,a,l,p;for(e=this.getMatrix(),t=c(e,function(v,d){return Math.max(v,c(d,Math.max,0))},0),a=Array((t+"").length).join(" "),l=[];l.length<(e[0]&&e[0].length||0);)l[l.length]=Array(a.length+1).join("-");return l=l.join("-+")+"-",p=f(e,function(v){var d;return d=f(v,function(g){return(a+g).slice(-a.length)}),d.join(" |")+" "}),p.join(`
`+l+`
`)},i.prototype.getMatrix=function(){return this._matrix.slice()},i.prototype.valueOf=function(){return this.distance},i})}(E)),E.exports}/*! https://mths.be/tpyo v2.0.0 by @mathias | MIT license */var B;function he(){return B||(B=1,function(){const u=de(),o=function(i,n){n||(n={});for(const e of Object.getOwnPropertyNames(i))n[e]=new Boolean(!0);const s=i.__proto__;return s&&o(s,n),Object.keys(n)},r=function(i,n){let s=1/0;return n.reduce(function(e,t){const a=new u(t,i).distance;return a<s?(s=a,t):e},"")},f=function(i,n,s){if(n in i)return i[n];const e=o(i),t=r(n,e);return i[t]},c=function(i){return new Proxy(i,{get:f})};c.version="2.0.0",A.exports=c}()),A.exports}var D=he();const me=le(D),ve=fe({__proto__:null,default:me},[D]),N={tpyo:ve},ge=[],ye=oe(async()=>{const u={javascript:k,js:k,typescript:k,ts:k},{getHighlighter:o}=await V(async()=>{const{getHighlighter:c}=await import("./slidev/shiki-BZisFU1a.js");return{getHighlighter:c}},__vite__mapDeps([0,1,2,3,4,5,6])),r=await o(),f=async(c,i,n)=>{try{const s=u[i];if(!s)throw new Error(`Runner for language "${i}" not found`);return await s(c,{options:n,highlight:r,run:async(e,t)=>await f(e,t,n)})}catch(s){return console.error(s),{error:`${s}`}}};for(const c of ge){const i=await c(u);Object.assign(u,i)}return{highlight:r,run:f}});function _e(u){const o=w([]),r=e=>o.value.push({error:String(e)}),f=(...e)=>o.value.push(e.map(i)),c=Object.assign({},console);c.info=c.log=c.debug=c.warn=c.error=f,c.clear=()=>o.value.length=0;try{const e=`return async (console, __slidev_import, __slidev_on_error) => {
      try {
        ${s(u)}
      } catch (e) {
        __slidev_on_error(e)
      }
    }`;new Function(e)()(c,t=>{const a=N[t];if(!a)throw new Error(`Module not found: ${t}.
Available modules: ${Object.keys(N).join(", ")}. Please refer to https://sli.dev/custom/config-code-runners#additional-runner-dependencies`);return a},r)}catch(e){r(e)}function i(e){return typeof e=="string"?{text:e}:{text:n(e),highlightLang:"javascript"}}function n(e){var a;let t="";if(e instanceof Error)t=`Error: ${JSON.stringify(e.message)}`;else if(e==null||typeof e=="symbol")t=String(e);else if(Array.isArray(e))t=`[${e.map(n).join(", ")}]`;else if(e instanceof Set){const l=[...e];t=`Set (${e.size}) {${l.map(n).join(", ")}}`}else if(e instanceof Map){const l=[...e.entries()];t=`Map (${e.size}) {${l.map(([p,v])=>`${n(p)} => ${n(v)}`).join(", ")}}`}else if(e instanceof RegExp)t=e.toString();else if(typeof e=="string")t=JSON.stringify(e);else if(typeof e=="object"){const l=((a=e.constructor)==null?void 0:a.name)??"",p=l&&l==="Object"?"":l;t=(p?`${p}: `:"")+JSON.stringify(e,(d,g)=>g===void 0?"__undefined__":g,2).replace(/"__undefined__"/g,"undefined"),t=String(t)}else t=String(e);return t}function s(e){return e=e.replace('import "reflect-metadata"',"").replace('require("reflect-metadata")',""),e=e.replace("export {};",""),e}return o}let j;async function k(u){j??(j=await V(()=>import("./monaco/bundled-types-GyhiB4uL.js").then(r=>r.t),__vite__mapDeps([1,2,3,4]))),u=j.transpileModule(u,{compilerOptions:{module:j.ModuleKind.ESNext,target:j.ScriptTarget.ES2022},transformers:{after:[xe]}}).outputText;const o=/import\s*\((.+)\)/g;return u=u.replace(o,(r,f)=>`__slidev_import(${f})`),_e(u)}function xe(u){const{factory:o}=u,{isImportDeclaration:r,isNamedImports:f,NodeFlags:c}=j;return i=>{var s,e;const n=[...i.statements];for(let t=0;t<n.length;t++){const a=n[t];if(!r(a))continue;let l;const p=(s=a.importClause)==null?void 0:s.namedBindings,v=[];if((e=a.importClause)!=null&&e.name&&v.push(o.createBindingElement(void 0,o.createIdentifier("default"),a.importClause.name)),p)if(f(p)){for(const g of p.elements)v.push(o.createBindingElement(void 0,g.propertyName,g.name));l=o.createObjectBindingPattern(v)}else l=o.createIdentifier(p.name.text);else l=o.createObjectBindingPattern(v);const d=o.createVariableStatement(void 0,o.createVariableDeclarationList([o.createVariableDeclaration(l,void 0,void 0,o.createAwaitExpression(o.createCallExpression(o.createIdentifier("import"),void 0,[a.moduleSpecifier])))],c.Const));n[t]=d}return o.updateSourceFile(i,n)}}const we=I({__name:"DomElement",props:{element:{}},setup(u){const o=u,r=w();return J(()=>{r.value&&r.value.appendChild(o.element)}),(f,c)=>(h(),m("div",{ref_key:"container",ref:r},null,512))}}),be={key:0,class:"text-sm text-center opacity-50"},Se={key:1,class:"text-sm text-center opacity-50"},Oe={key:2,class:"text-sm text-center opacity-50"},je=["innerHTML"],ke={key:1,class:"text-red-500"},Ee={key:3,class:"output-line"},Ce=["innerHTML"],$e={key:2,class:"separator"},Ae={key:0,class:"absolute right-1 top-1 max-h-full flex gap-1"},Ie=I({__name:"CodeRunner",props:{modelValue:{},lang:{},autorun:{type:[Boolean,String]},height:{},showOutputAt:{type:[null,Boolean,String,Number,Array]},highlightOutput:{type:Boolean},runnerOptions:{}},emits:["update:modelValue"],setup(u,{emit:o}){const r=u,f=o,{isPrintMode:c}=se(),i=q(r,"modelValue",f),{$renderContext:n,$clicksContext:s}=ce(),e=F(()=>!["slide","presenter"].includes(n.value)),t=c.value?"once":r.autorun,a=w(t),l=H(),p=w(0),v=w(),d=w(r.showOutputAt);if(r.showOutputAt){const b=ae();U(()=>{const _=s.calculate(r.showOutputAt);_?(s.register(b,_),G(()=>{d.value=!_.isActive.value})):d.value=!1}),K(()=>s.unregister(b))}const g=ie(200,async()=>{if(e.value)return;const{highlight:b,run:_}=await ye();v.value=b;const y=setTimeout(()=>{a.value=!0},500);l.value=await _(i.value,r.lang,r.runnerOptions??{}),p.value+=1,a.value=!1,clearTimeout(y)});return t==="once"?g():t&&W(i,g,{immediate:!0}),(b,_)=>(h(),m(O,null,[Q(R("div",{class:"relative flex flex-col rounded-b border-t border-main",style:te({height:r.height}),"data-waitfor":".slidev-runner-output"},[e.value?(h(),m("div",be,' Code is disabled in the "'+C(x(n))+'" mode ',1)):a.value?(h(),m("div",Se," Running... ")):l.value?(h(),m("div",{key:`run-${p.value}`,class:"slidev-runner-output"},[(h(!0),m(O,null,L(x($)(ee(l.value)),(y,z)=>(h(),m(O,{key:z},["html"in y?(h(),m("div",{key:0,innerHTML:y.html},null,8,je)):"error"in y?(h(),m("div",ke,C(y.error),1)):"element"in y?(h(),Y(we,{key:2,element:y.element},null,8,["element"])):(h(),m("div",Ee,[(h(!0),m(O,null,L(x($)(y),(S,M)=>(h(),m(O,{key:M},[S.highlightLang&&v.value?(h(),m("span",{key:0,class:"highlighted",innerHTML:v.value(S.text,S.highlightLang)},null,8,Ce)):(h(),m("span",{key:1,class:Z(S.class)},C(S.text),3)),M<x($)(y).length-1?(h(),m("span",$e,",")):P("v-if",!0)],64))),128))]))],64))),128))])):(h(),m("div",Oe," Click the play button to run the code "))],4),[[X,!d.value]]),x(i).trim()?(h(),m("div",Ae,[ne(ue,{class:"w-8 h-8 max-h-full flex justify-center items-center",title:"Run code",onClick:x(g)},{default:re(()=>_[0]||(_[0]=[R("div",{class:"i-carbon:play"},null,-1)])),_:1},8,["onClick"])])):P("v-if",!0)],64))}});export{Ie as default};
