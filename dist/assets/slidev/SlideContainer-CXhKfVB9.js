import{r as p,z as l,J as v,T as D,d as P,aI as z,G as A,S as F,ao as g,f as w,k as h,g as d,j as _,F as U,i as V,o as $}from"../modules/vue-CY3OsIzI.js";import{N as I,W as r,X as W,Y as q,a as G,F as b,o as H,l as J,_ as L}from"../index-BQbRTvLq.js";import{b as k,d as M,e as C,h as O}from"../monaco/bundled-types-GyhiB4uL.js";function T(t){var e;return{info:p(((e=I(t))==null?void 0:e.meta.slide)??null),update:async()=>{}}}const f={};function le(t){function e(a){return f[a]??(f[a]=T(a))}return{info:l({get(){return e(v(t)).info.value},set(a){e(v(t)).info.value=a}}),update:async(a,o)=>{const s=e(o??v(t)),n=await s.update(a);return n&&(s.info.value=n),n}}}const i=D({});let X=[],Y=[];r(i,"$syncUp",!0);r(i,"$syncDown",!0);r(i,"$paused",!1);r(i,"$onSet",t=>X.push(t));r(i,"$onPatch",t=>Y.push(t));W();r(i,"$patch",async()=>!1);const K=q(i,i,!0);var E;(E=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||E[1];var x;(x=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||x[1];class Q{constructor(){this._screenshotSession=null}getSnapshot(e,a){const o=e+(a?"-dark":"-light"),s=K.state[o];if(!s)return;const n=I(e);if(n&&(s==null?void 0:s.revision)===(n==null?void 0:n.meta.slide.revision))return s.image}async saveSnapshot(e,a,o){return!1}async startCapturing(e){return!1}}const R=new Q,Z=["id"],ee=["id"],te={class:"slidev-slide-container w-full h-full relative"},ae=["src"],se=P({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},isMain:{type:Boolean,default:!1},no:{type:Number,required:!1},useSnapshot:{type:Boolean,default:!1},contentStyle:{type:Object,default:()=>({})}},setup(t){const e=t,{isPrintMode:a}=G(),o=p(null),s=z(o),n=p(null),N=l(()=>e.width??s.width.value),j=l(()=>e.width?e.width/k.value:s.height.value),u=l(()=>b.value&&!a.value?+b.value:Math.min(N.value/M.value,j.value/C.value)),B=l(()=>({...e.contentStyle,height:`${C.value}px`,width:`${M.value}px`,transform:`translate(-50%, -50%) scale(${u.value})`,"--slidev-slide-scale":u.value})),m=l(()=>e.width?{width:`${e.width}px`,height:`${e.width/k.value}px`}:{});if(e.isMain){const c=document.documentElement.style;A(()=>c.setProperty("--slidev-slide-scale",u.value.toString())),F(()=>c.removeProperty("--slidev-slide-scale"))}g(H,u),g(J,n);const S=l(()=>{if(!(e.no==null||!e.useSnapshot))return R.getSnapshot(e.no,O.value)});return(c,y)=>S.value?($(),w(U,{key:1},[V(" Image Snapshot "),d("div",te,[d("img",{src:S.value,class:"w-full h-full object-cover",style:h(m.value)},null,12,ae),y[0]||(y[0]=d("div",{absolute:"","bottom-1":"","right-1":"","p0.5":"","text-cyan:75":"","bg-cyan:10":"",rounded:"",title:"Snapshot"},[d("div",{class:"i-carbon-camera"})],-1))])],2112)):($(),w("div",{key:0,id:t.isMain?"slide-container":void 0,ref_key:"container",ref:o,class:"slidev-slide-container",style:h(m.value)},[d("div",{id:t.isMain?"slide-content":void 0,ref_key:"slideElement",ref:n,class:"slidev-slide-content",style:h(B.value)},[_(c.$slots,"default",{},void 0,!0)],12,ee),_(c.$slots,"controls",{},void 0,!0)],12,Z))}}),re=L(se,[["__scopeId","data-v-e9bf4cb5"]]);export{re as S,T as a,le as u};
