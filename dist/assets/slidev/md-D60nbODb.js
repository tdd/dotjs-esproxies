import{d as A,P as E,S as P,b as $,o as x,F as j,ax as V,h as p,e as N,aJ as y,aK as D,ag as I,aL as L,w as b,g as e,m as M,ac as n,f as G,v as K,x as R,J as B}from"../modules/vue-CY3OsIzI.js";import{a4 as J,a5 as O,C as U}from"../index-Bvn82Oky.js";import{l as W}from"../monaco/bundled-types-rvj1b6yg.js";import{u as T,f as X}from"./context-BSZ_kjjK.js";import{_ as Y}from"./CodeBlockWrapper.vue_vue_type_script_setup_true_lang-DFmkoT_N.js";import{I as q}from"./default-B7tgHVjA.js";import"../modules/shiki-Bsyf5hhV.js";import"../modules/file-saver-BzOOqXCn.js";import"../modules/unplugin-icons-_Iq6A3v0.js";const H=A({__name:"VClickGap",props:{size:{type:[String,Number],default:1}},setup(d){const a=d,{$clicksContext:i}=T(),r=J();let t=+a.size;return Number.isNaN(t)&&(console.warn(`[slidev] Invalid size for VClickGap: ${a.size}`),t=1),E(()=>{const c=i.currentOffset+t-1;i.register(r,{max:c,delta:t})}),P(()=>{i.unregister(r)}),(c,u)=>(x(),$(j))}}),w=["ul","ol"],Q=A({props:{depth:{type:[Number,String],default:1},every:{type:[Number,String],default:1},at:{type:[Number,String],default:"+1"},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},handleSpecialElements:{type:Boolean,default:!0}},render(){var S,C;const d=+this.every,a=O(this.at),i=typeof a=="string";let r=(C=(S=this.$slots).default)==null?void 0:C.call(S);if(a==null||!r)return r;const t=V("click"),c=(o,s)=>I(o,[[t,s,"",{hide:this.hide,fade:this.fade}]]),u=o=>o.flatMap(s=>y(s)&&typeof s.type=="symbol"&&Array.isArray(s.children)?u(s.children):[s]);r=u(W(r));const m=(o,s=1)=>u(o).map(l=>{if(!y(l))return l;if(w.includes(l.type)&&Array.isArray(l.children)){const h=f(l.children,s+1);return p(l,{},h)}return p(l)});let _=1,k=0;const f=(o,s=1)=>u(o).map(l=>{if(!y(l)||l.type===D)return l;const h=+a+Math.ceil(_++/d)-1;let v;s<+this.depth&&Array.isArray(l.children)?v=p(l,{},m(l.children,s)):v=p(l);const F=h-k;return k=h,c(v,i?F>=0?`+${F}`:`${F}`:h)}),g=()=>N(H,{size:+a+Math.ceil((_-1)/d)-1-k});if(this.handleSpecialElements){if(r.length===1&&w.includes(r[0].type)&&Array.isArray(r[0].children))return p(r[0],{},[...f(r[0].children),g()]);if(r.length===1&&r[0].type==="table"){const o=r[0];if(Array.isArray(o.children))return p(o,{},o.children.map(s=>y(s)?s.type==="tbody"&&Array.isArray(s.children)?p(s,{},[...f(s.children),g()]):p(s):s))}}return[...f(r),g()]}}),Z=A({props:{at:{type:[Number,String],default:"+1"},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},wrapText:{type:Function,default:d=>p("span",d)}},render(){return p(Q,{every:U,at:this.at,hide:this.hide,fade:this.fade,handleSpecialElements:!1},{default:()=>{var d,a;return(a=(d=this.$slots).default)==null?void 0:a.call(d).map(i=>i.type===L?this.wrapText(i):i)}})}}),de={__name:"proxies.md__slidev_6",setup(d){const{$clicksContext:a,$frontmatter:i}=T();return a.setup(),(r,t)=>{const c=Y,u=Z,m=V("mark");return x(),$(q,K(R(B(X)(B(i),5))),{default:b(()=>[t[7]||(t[7]=e("h1",null,"You build one like this",-1)),N(c,M({},{ranges:[]}),{default:b(()=>t[0]||(t[0]=[e("pre",{class:"shiki shiki-themes monokai slack-ochin slidev-code",style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339","--shiki-dark-bg":"#272822","--shiki-light-bg":"#FFF"}},[e("code",{class:"language-js"},[e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#F92672","--shiki-light":"#7B30D0"}},"new"),e("span",{style:{"--shiki-dark":"#A6E22E","--shiki-light":"#7EB233"}}," Proxy"),e("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"("),e("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"obj"),e("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},", {")]),n(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#88846F","--shiki-dark-font-style":"inherit","--shiki-light":"#357B42","--shiki-light-font-style":"italic"}},'  // handler object, usually provides "traps":  get, set, has, apply, etc.')]),n(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"})")])])],-1)])),_:1},16),t[8]||(t[8]=e("ul",null,[e("li",null,[e("strong",null,"Target"),n(" = the proxied object")]),e("li",null,[e("strong",null,"Prop / Key"),n(" = property being used (looked up, read, written to or whose descriptor is defined)")]),e("li",null,[e("strong",null,"Value"),n(" = property value being set")]),e("li",null,[n("For "),e("code",null,"apply"),n(" and "),e("code",null,"construct"),n(" you get arguments, "),e("code",null,"apply"),n(" also has the binding ("),e("code",null,"this"),n(")")])],-1)),N(u,null,{default:b(()=>[e("p",null,[t[2]||(t[2]=e("code",null,"Reflect",-1)),t[3]||(t[3]=n(" provides all the ")),I((x(),G("span",null,t[1]||(t[1]=[e("strong",null,"built-in behaviors",-1)]))),[[m,{color:"var(--docto-yellow)",at:"1"}]]),t[4]||(t[4]=n(" for every ")),t[5]||(t[5]=e("strong",null,"trap",-1)),t[6]||(t[6]=n(", so we can delegate to them."))])]),_:1})]),_:1},16)}}};export{de as default};
